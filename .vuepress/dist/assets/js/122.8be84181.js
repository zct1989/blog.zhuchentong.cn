(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{439:function(e,t,n){"use strict";n.r(t);var r=n(39),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("最近在项目中使用了循环引用，因为组件B中包含了组件A,但是组件A中又需要显示组件B,如果直接按照一般的写法如出现如下错误:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Failed to mount component: template or render function not defined.\n")])])]),n("p",[e._v("参考Vue的官方文档，在"),n("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/components.html#%E7%BB%84%E4%BB%B6%E9%97%B4%E7%9A%84%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件章节"),n("OutboundLink")],1),e._v("会找到解决的方法")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("beforeCreate: function () {\n  this.$options.components.TreeFolderContents = require('./tree-folder-contents.vue')\n}\n")])])]),n("p",[e._v("它通过在组件"),n("code",[e._v("beforeCreate")]),e._v("的生命周期中，动态的加载组件解决了这个问题，经过测试也没有问题，在开发和生产环境中一切正常。")]),e._v(" "),n("p",[e._v("但是奇怪的事情就出现在了Docker中，在Docker中并没有如期的正常找到该组件,但是同样也没有发生上面的报错，通过$refs无法找到组件的正确引用。")]),e._v(" "),n("p",[e._v("经过测试，使用异步加载组件可以解决该问题")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("beforeCreate: function () {\n    this.$options.components.TreeFolderContents = () => import('./tree-folder-contents.vue')\n}\n")])])]),n("p",[e._v("这下才变得一切正常，好吧，在此记录下来增加点经验")])])}),[],!1,null,null,null);t.default=o.exports}}]);