<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端的诞生 - 3. CSS的从无到有 | 紫菜苔de前端小馆</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.87941fce.css" as="style"><link rel="preload" href="/assets/js/app.7e25505e.js" as="script"><link rel="preload" href="/assets/js/3.4c456c83.js" as="script"><link rel="preload" href="/assets/js/127.af7ff8a1.js" as="script"><link rel="prefetch" href="/assets/js/1.7f9baa1d.js"><link rel="prefetch" href="/assets/js/10.b3078e71.js"><link rel="prefetch" href="/assets/js/100.d8ae016d.js"><link rel="prefetch" href="/assets/js/101.f6577f56.js"><link rel="prefetch" href="/assets/js/102.24046e40.js"><link rel="prefetch" href="/assets/js/103.d5b9915f.js"><link rel="prefetch" href="/assets/js/104.6d9317fc.js"><link rel="prefetch" href="/assets/js/105.1c735d52.js"><link rel="prefetch" href="/assets/js/106.553f3416.js"><link rel="prefetch" href="/assets/js/107.2ff9089f.js"><link rel="prefetch" href="/assets/js/108.72334a91.js"><link rel="prefetch" href="/assets/js/109.ab5b89d9.js"><link rel="prefetch" href="/assets/js/11.48b38e03.js"><link rel="prefetch" href="/assets/js/110.c00c4692.js"><link rel="prefetch" href="/assets/js/111.054f232b.js"><link rel="prefetch" href="/assets/js/112.348fdc76.js"><link rel="prefetch" href="/assets/js/113.2666954c.js"><link rel="prefetch" href="/assets/js/114.8401f8aa.js"><link rel="prefetch" href="/assets/js/115.7a7040eb.js"><link rel="prefetch" href="/assets/js/116.4c68494b.js"><link rel="prefetch" href="/assets/js/117.628714f4.js"><link rel="prefetch" href="/assets/js/118.2a187c2e.js"><link rel="prefetch" href="/assets/js/119.35c2bc90.js"><link rel="prefetch" href="/assets/js/12.443612ee.js"><link rel="prefetch" href="/assets/js/120.d049d227.js"><link rel="prefetch" href="/assets/js/121.48041260.js"><link rel="prefetch" href="/assets/js/122.8be84181.js"><link rel="prefetch" href="/assets/js/123.bf0e653c.js"><link rel="prefetch" href="/assets/js/124.44ed450f.js"><link rel="prefetch" href="/assets/js/125.09870bea.js"><link rel="prefetch" href="/assets/js/126.42a4886a.js"><link rel="prefetch" href="/assets/js/128.7291d4f2.js"><link rel="prefetch" href="/assets/js/129.c49e42e3.js"><link rel="prefetch" href="/assets/js/13.dadac269.js"><link rel="prefetch" href="/assets/js/130.e1ee2b4b.js"><link rel="prefetch" href="/assets/js/131.27c50567.js"><link rel="prefetch" href="/assets/js/132.79c2b4e0.js"><link rel="prefetch" href="/assets/js/133.df0574a4.js"><link rel="prefetch" href="/assets/js/134.f38f6bca.js"><link rel="prefetch" href="/assets/js/14.e80ad288.js"><link rel="prefetch" href="/assets/js/15.0f63582e.js"><link rel="prefetch" href="/assets/js/16.0b17d178.js"><link rel="prefetch" href="/assets/js/17.e0125a2a.js"><link rel="prefetch" href="/assets/js/18.8a42eed8.js"><link rel="prefetch" href="/assets/js/19.15a10742.js"><link rel="prefetch" href="/assets/js/20.b7b1d0f5.js"><link rel="prefetch" href="/assets/js/21.40791261.js"><link rel="prefetch" href="/assets/js/22.f2c95780.js"><link rel="prefetch" href="/assets/js/23.ac518c9f.js"><link rel="prefetch" href="/assets/js/24.1dae90a3.js"><link rel="prefetch" href="/assets/js/25.efc09146.js"><link rel="prefetch" href="/assets/js/26.ab86d874.js"><link rel="prefetch" href="/assets/js/27.e5f565e9.js"><link rel="prefetch" href="/assets/js/28.0469e9c4.js"><link rel="prefetch" href="/assets/js/29.a8de8547.js"><link rel="prefetch" href="/assets/js/30.c0475b4a.js"><link rel="prefetch" href="/assets/js/31.b5eb0553.js"><link rel="prefetch" href="/assets/js/32.9c19ae0e.js"><link rel="prefetch" href="/assets/js/33.b1ed7508.js"><link rel="prefetch" href="/assets/js/34.1e16e05c.js"><link rel="prefetch" href="/assets/js/35.293091db.js"><link rel="prefetch" href="/assets/js/36.252b615a.js"><link rel="prefetch" href="/assets/js/37.1cd8996a.js"><link rel="prefetch" href="/assets/js/38.167a82a3.js"><link rel="prefetch" href="/assets/js/39.33db9824.js"><link rel="prefetch" href="/assets/js/4.54882aa9.js"><link rel="prefetch" href="/assets/js/40.450d32a0.js"><link rel="prefetch" href="/assets/js/41.9287a314.js"><link rel="prefetch" href="/assets/js/42.141e28e4.js"><link rel="prefetch" href="/assets/js/43.8a75dd80.js"><link rel="prefetch" href="/assets/js/44.3ee27bf5.js"><link rel="prefetch" href="/assets/js/45.4a481968.js"><link rel="prefetch" href="/assets/js/46.856423a7.js"><link rel="prefetch" href="/assets/js/47.f5eecad5.js"><link rel="prefetch" href="/assets/js/48.bf2e2c37.js"><link rel="prefetch" href="/assets/js/49.9de65ad2.js"><link rel="prefetch" href="/assets/js/5.394b0d79.js"><link rel="prefetch" href="/assets/js/50.5717ea36.js"><link rel="prefetch" href="/assets/js/51.559ab86e.js"><link rel="prefetch" href="/assets/js/52.fa636028.js"><link rel="prefetch" href="/assets/js/53.855c5365.js"><link rel="prefetch" href="/assets/js/54.479224a9.js"><link rel="prefetch" href="/assets/js/55.82303205.js"><link rel="prefetch" href="/assets/js/56.06703298.js"><link rel="prefetch" href="/assets/js/57.834a7c69.js"><link rel="prefetch" href="/assets/js/58.38a6ec3d.js"><link rel="prefetch" href="/assets/js/59.d9b4b32f.js"><link rel="prefetch" href="/assets/js/6.c3665a69.js"><link rel="prefetch" href="/assets/js/60.f93eef75.js"><link rel="prefetch" href="/assets/js/61.fc7d627b.js"><link rel="prefetch" href="/assets/js/62.37562b69.js"><link rel="prefetch" href="/assets/js/63.71270651.js"><link rel="prefetch" href="/assets/js/64.13e7ae2c.js"><link rel="prefetch" href="/assets/js/65.1251d365.js"><link rel="prefetch" href="/assets/js/66.31ee93bf.js"><link rel="prefetch" href="/assets/js/67.66ee58aa.js"><link rel="prefetch" href="/assets/js/68.c00ea48a.js"><link rel="prefetch" href="/assets/js/69.06818970.js"><link rel="prefetch" href="/assets/js/7.6efe852a.js"><link rel="prefetch" href="/assets/js/70.c3da057f.js"><link rel="prefetch" href="/assets/js/71.4a192e57.js"><link rel="prefetch" href="/assets/js/72.66c8fbc5.js"><link rel="prefetch" href="/assets/js/73.faf61deb.js"><link rel="prefetch" href="/assets/js/74.e3a9223e.js"><link rel="prefetch" href="/assets/js/75.b72d7462.js"><link rel="prefetch" href="/assets/js/76.2cdf4ef4.js"><link rel="prefetch" href="/assets/js/77.8cd6514e.js"><link rel="prefetch" href="/assets/js/78.7ca132ea.js"><link rel="prefetch" href="/assets/js/79.41e2ac49.js"><link rel="prefetch" href="/assets/js/8.53b5f5e2.js"><link rel="prefetch" href="/assets/js/80.13b4e376.js"><link rel="prefetch" href="/assets/js/81.dd6a6ef0.js"><link rel="prefetch" href="/assets/js/82.09201718.js"><link rel="prefetch" href="/assets/js/83.4605bf24.js"><link rel="prefetch" href="/assets/js/84.44fd975f.js"><link rel="prefetch" href="/assets/js/85.e5dc6b5f.js"><link rel="prefetch" href="/assets/js/86.0e2bc0cc.js"><link rel="prefetch" href="/assets/js/87.6373beea.js"><link rel="prefetch" href="/assets/js/88.43f718d2.js"><link rel="prefetch" href="/assets/js/89.59462d75.js"><link rel="prefetch" href="/assets/js/9.72eda18e.js"><link rel="prefetch" href="/assets/js/90.8136b873.js"><link rel="prefetch" href="/assets/js/91.3216e3ce.js"><link rel="prefetch" href="/assets/js/92.94ec4c29.js"><link rel="prefetch" href="/assets/js/93.712e48a3.js"><link rel="prefetch" href="/assets/js/94.a674e097.js"><link rel="prefetch" href="/assets/js/95.e365ad29.js"><link rel="prefetch" href="/assets/js/96.eb2961b1.js"><link rel="prefetch" href="/assets/js/97.cf9e240e.js"><link rel="prefetch" href="/assets/js/98.37ffbc3f.js"><link rel="prefetch" href="/assets/js/99.ad9f19e6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.87941fce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container flex-row"><div class="sider-container"><div class="slider flex-column justify-content-center align-items-center"><div class="avatar"><img src="/avatar.jpg"></div> <div class="title">
        紫菜苔de前端小馆
    </div></div></div> <div class="post-container flex-auto" data-v-5185f74d><div class="title-container" data-v-5185f74d><div class="title" data-v-5185f74d>前端的诞生 - 3. CSS的从无到有</div> <div class="date" data-v-5185f74d>2018年07月23日 08:07</div></div> <div class="content-container" data-v-5185f74d><div class="content__default" data-v-5185f74d><p>相比于HTML的横空出世和Javascript的一锤定音，CSS的出现就要漫长的多。</p> <p>时间回到1991年，当时伯纳斯-李开发HTML的时候忘记了一个东西，那就是他没有提供给网页写样式的方法，而这个网页是什么样式完全由浏览器来决定，而CSS直到五年后才出现，十年后才完全的实现，这导致当时多种网页样式的实现方案在互相的竞争，尽管这些竞争方案最终没有使用起来，但是这并不方案我们去重新看看那他们当时的方案。</p> <p>1993年初，那个时候Mosaic还没有发布1.0版本，当时浏览器还在研究的是应该怎么处理HTML，样式的实现完全是交给浏览器开发者按照喜好渲染，这个时候<code>Robert Raisch</code>提出过一个样式提案，命名为RRP。</p> <p>RRP:</p> <div class="language- extra-class"><pre class="language-text"><code>@BODY fo(fa=he,si=18)
</code></pre></div><p>CSS:</p> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">body</span><span class="token punctuation">{</span>
  <span class="token property">font-faimily</span><span class="token punctuation">:</span>helvetica
  <span class="token property">font-size</span><span class="token punctuation">:</span>18px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不得不说在那个网速只有14.4k而且没有gzip的时代，尽量压缩格式还是非常合理的。当时的样式表是要求在终端浏览器和图形浏览器都可以工作。很超前的是RRP当时设计了列布局的模式，这个是在CSS在2011年才引用的功能。RRP当时设计的是一个文档只能有 一个样式表，这个今天看来就比较奇怪了。</p> <p>马克·安德森知道RRP这个提案，但是他在他开发的Mosaic中并没有实现这个提案，而使用了HTML标签的方式来实现样式，如<code>&lt;FONT&gt;</code>,<code>&lt;CENTER&gt;</code>,他当时的看法是为什么我要学习一种语言来开发文档，而学习另一种语言来把文档变成你想要的样子,从今天的角度来看，他当时确实是错了。</p> <p><code>Mosaic</code>其实并不是第一款图形界面的浏览器，<code>ViolaWWW</code>才是，这个是魏培源花了4天时间开发出来了，相比安德森花了6周开发的<code>Mosaic</code>他更加高效，他当时也创建了一个样式表语言PWP，并且支持嵌套结构。</p> <p>PWP</p> <div class="language- extra-class"><pre class="language-text"><code>(BODY fontSize=normal
      BGColor=white
      FGColor=black
  (H1   fontSize=largest
        BGColor=red
        FGColor=white)
)
</code></pre></div><p>CSS</p> <div class="language- extra-class"><pre class="language-text"><code>body{
  font-size:normal;
  background-color:white;
  color:black;
}

body h1{
  font-size:large;
  background-color:red;
  color:white;
}
</code></pre></div><p>可以看出PWP不仅风格简洁，并且是使用了类似<code>Stylus</code>和<code>SASS</code>的嵌套和缩进，避免了重复选择器来表示层级,这已经是很超前的设计。而且PWP还是外联样式的提出者:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;LINK REL=&quot;STYLE&quot; HREF=&quot;URL_to_a_stylesheet&quot;&gt;
</code></pre></div><p>只能说666,可惜的是<code>ViolaWWW</code>只能在<code>X Window System</code>下工作，当<code>Mosaic</code>移植到了Windows后,<code>ViolaWWW</code>也就消失了。</p> <p>在HTML出现之前其实已经有类似的东西,SGML(标准通用标记语言)和HTML比较像，准确的说是HTML是派生自他，而另一种派生自SGML的语言叫做XML, XML产生的目的就是为了简化SGML。1987年美国国防部就成立一个名字为CALS(持续采办与全寿命支持计划)的小组，他们创造一个一门语言叫做FOSI来为SGML定义文档样式，</p> <p>1993年就在魏培源给出提案的第四天，CALS提出了FOSI的一个变体来定义web样式。但是他并没有重新发明语言，因为FOSI就是直接用SGML书写的。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;outspec&gt;
  &lt;docdesc&gt;
    &lt;charlist&gt;
      &lt;font size=&quot;12pt&quot; bckcol=&quot;white&quot; fontcol=&quot;black&quot;&gt;
    &lt;/charlist&gt;
  &lt;/docdesc&gt;
  &lt;e-i-c gi=&quot;h1&quot;&gt;\&lt;font size=&quot;24pt&quot; bckcol=&quot;red&quot;, fontcol=&quot;white&quot;\&gt;&lt;/e-i-c&gt;
  &lt;e-i-c gi=&quot;h2&quot;&gt;\&lt;font size=&quot;20pt&quot; bckcol=&quot;red&quot;, fgcol=&quot;white&quot;\&gt;&lt;/e-i-c&gt;
  &lt;e-i-c gi=&quot;a&quot;&gt;&lt;font fgcol=&quot;red&quot;&gt;&lt;/e-i-c&gt;
  &lt;e-i-c gi=&quot;cmd kbd screen listing example&quot;&gt;&lt;font style=&quot;monoser&quot;&gt;&lt;/e-i-c&gt;
&lt;/outspec&gt;
</code></pre></div><p>这段代码也就不翻译成对应的CSS了，因为你很难搞清楚docdesc和charlist是什么，而且当时接受提案的www-talk小组成员也搞不清，只能说明的是<code>e-i-c</code>代表的是element-in-context。
但是FOSI值得骄傲的事情是他们引入了em字体单位，这个已经被CSS开发者所熟悉。</p> <p>另一个提案是DSSSL，这个是一个基于函数式语言Scheme创建的一门新语言，整理写法也很简洁，功能超级强大。我们来看一看他的功能。</p> <p>定义样式:</p> <div class="language- extra-class"><pre class="language-text"><code>(element H1
  (make paragraph
    font-size: 14pt
    font-weight: 'bold))
</code></pre></div><p>定义函数:</p> <div class="language- extra-class"><pre class="language-text"><code>(define (create-heading heading-font-size)
  (make paragraph
    font-size: heading-font-size
    font-weight: 'bold))

(element h1 (create-heading 24pt))
(element h2 (create-heading 18pt))
</code></pre></div><p>样式中使用计算，比如定义一个黑白相间的表格：</p> <div class="language- extra-class"><pre class="language-text"><code>(element TR
  (if (= (modulo (child-number) 2)
        0)
    …   ;even-row
    …)) ;odd-row
</code></pre></div><p>而且可以把继承的属性值作为变量，在上面进行计算:</p> <div class="language- extra-class"><pre class="language-text"><code>(element H1
  (make paragraph
    font-size: (+ 4pt (inherited-font-size))))
</code></pre></div><p>它的强大显而易见，但是它也继承了Scheme的缺点-括号太多，而且因为它语言上复杂让开发者望而却步，它在标准中包括了超过210项的独立样式。</p> <p>PSL提案也值得一提，他有和CSS很像的基础语法</p> <p>PSL</p> <div class="language- extra-class"><pre class="language-text"><code>H1 {
  fontSize: 20;
}
</code></pre></div><p>但是它的可扩展性以及功能性要比CSS丰富的多</p> <p>获取浏览器真实尺寸</p> <div class="language- extra-class"><pre class="language-text"><code>LI {
  VertPos: Top = LeftSib . Actual Bottom;
}
</code></pre></div><p>支持逻辑表达式</p> <div class="language- extra-class"><pre class="language-text"><code>A {
  if (getAttribute(self, &quot;href&quot;) != &quot;&quot;) then
    fgColor = &quot;blue&quot;;
    underlineNumber = 1;
  endif
}
</code></pre></div><p>可以扩展很多想做的事情</p> <div class="language- extra-class"><pre class="language-text"><code>LI {
  if (ChildNum(Self) == round(NumChildren(Parent) / 2 + 1)) then
    VertPos: Top = Parent.Top;
    HorizPos: Left = LeftSib.Left + Self.Width;
  else
    VertPos: Top = LeftSib.Actual Bottom;
    HorizPos: Left = LeftSib.Left;
  endif
}
</code></pre></div><p>遗憾的是这种扩展性让人望而生畏。</p> <p>说了这么提案，该说说CSS的前身了，1994年<code>Håkon W Lie</code>提出了CHSS</p> <p>CHSS</p> <div class="language- extra-class"><pre class="language-text"><code>h1.font.size = 24pt 100%
h2.font.size = 20pt 40%
</code></pre></div><p>这个行尾的百分比表示的是权重，假如之前定义的h2的大小为30pt，权重60%，那么加上这个样式表的24pt的40%,那么h2就应该是26pt。好吧，这个确实挺着有些科幻,但是它的一个思想影响到了之后的CSS，那就是样式表是可以叠加的，一个页面可以被允许有多个样式表。</p> <p>1996年<code>Håkon Lie</code>与<code>Bert Bos</code>合作，他们之前都有提交过样式表的提案，这个合作让他们一起设计了一个名为CSS的样式表天，在11月份发布了CSS规范的第一版，最终他把CSS的诞生写入了自己的博士论文中。</p> <p>CSS相比其他提案的最大优势就是简单，易于阅读和编写，这再一次印证里一些历史的规律，很多最后取胜的技术并不是面向那些专家的，而是面向技术入门的初学者。</p> <p>不过CSS的诞生对于浏览器依然是新生事物，浏览器需要重新设计解析器也可以完全支持CSS，1997年以前基本上CSS无法使用，大概到2000左右才有浏览器完全支持了它，但是大概在2010年之后才做到了与标准完全一致，这大概用去了15年的时间。</p> <p>在浏览器大战期间，IE3在发布时开始支持CSS，但还是很糟糕，网景公司决定在Netscape 4上支持CSS，但是它的方案是将CSS转化为Javascript执行，命名为JSSS。当时很多开发者要么不使用CSS，要么就需要为IE和Netscape单独写两套样式表，可见当时浏览器对CSS支持之差。直到Netscape 6的时候Netscape也放弃了对JSSS的支持。</p> <p>2000年IE 5.5 发布，才宣布着对CSS1的大部分支持。</p></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7e25505e.js" defer></script><script src="/assets/js/3.4c456c83.js" defer></script><script src="/assets/js/127.af7ff8a1.js" defer></script>
  </body>
</html>
